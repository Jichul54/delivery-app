# Delivery-App

このプロジェクトでは、React をフロントエンドに、Django をバックエンドに使用して、デリバリーアプリを作成します。以下の手順に従って開発環境を構築してください。

## 必要条件

- Python 3.8 以上
- Node.js 12 以上

## 環境構築

### バックエンド (Django)

1. **リポジトリのクローン**:

```shell
git clone https://github.com/Jichul54/delivery-app.git
```

2. **バックエンドディレクトリに移動**:

```shell
cd backend
```

3. **仮想環境の作成とアクティベーション**:

```shell
python3 -m venv venv
source venv/bin/activate
```

4. **必要な Python パッケージのインストール**:

```shell
pip install -r requirements.txt
```

5. **データベースのマイグレーション**:

```shell
python manage.py migrate
```

6. **開発サーバの起動**:

```shell
python manage.py runserver
```

### フロントエンド (React)

1. **フロントエンドディレクトリに移動**:

```shell
cd ../frontend
```

2. **Node.js パッケージのインストール**:

```shell
npm install
```

3. **開発中の React アプリの起動**:

```shell
npm start
```

4. **ビルド**:

```shell
npm run build
```

## React アプリケーションのビルド

フロントエンドである React アプリケーションは開発中は`npm start`を使用してリアルタイムで変更を確認しますが、本番環境へのデプロイ前にはビルドプロセスを通じてアプリケーションを最適化し、静的ファイルにコンパイルする必要があります。このプロセスは`npm run build`コマンドで実行されます。

### `npm run build`とは?

`npm run build`コマンドは、開発中のコードを本番環境用に最適化し、圧縮された静的ファイルを生成します。このコマンドを実行すると、React のスクリプトは以下のプロセスを経て処理されます。

- **最小化**: コードから余分なスペースやコメントを削除し、ファイルサイズを縮小します。
- **トランスパイル**: JavaScript の新しい機能や拡張機能を、古いブラウザでも解釈可能なコードに変換します。
- **バンドリング**: 複数のファイルやモジュールを少数のファイルにまとめ上げ、ブラウザのリクエスト数を減少させます。
- **最適化**: アプリケーションのパフォーマンスを向上させるために、様々な最適化が行われます。

ビルドが完了すると、`frontend/build`ディレクトリに静的ファイルが出力されます。Django はこのディレクトリを静的ファイルのソースとして使用し、ユーザーにコンテンツを提供します。

### ビルドの実行

以下のコマンドを実行して React アプリケーションをビルドしてください。

```shell
npm run build
```

### ビルド後の手順

ビルドが成功すると、build フォルダに静的ファイルが生成されます。このフォルダの内容をバックエンドサーバーの適切な静的ファイルディレクトリに配置することで、フロントエンドの変更が本番環境で反映されます。

Django の settings.py にて STATICFILES_DIRS を設定し、urls.py でルーティングを行い、TEMPLATES に build ディレクトリを追加することで、ビルドされた React アプリケーションを Django 経由でサーブできるようになります。

毎回のフロントエンドの変更に対して npm run build を実行し、最新のビルドをバックエンドと共に同期させることが重要です。

## 貢献

プロジェクトへの貢献を希望する場合は、まず issue を作成するか、既存の issue にコメントをしてください。Pull Request は随時受け付けています。
